# 响应式

## 创建响应式对象

1. 在 initState()（src/core/instance/state.js）初始化 props 和 data（initProps()、initData()）
2. initProps()、initData()通过 defineReactive()方法来将所有属性变为响应式的

### Q：对于被监听的数据，其**ob**属性是在什么时候被加上的？，这个属性有什么作用？

在将属性添加响应式行为时挂载的，defineReactive() ——> observe() ——> new Observer() ——> def(value, '**ob**', this)（src/core/observer/index.js），其作为一个标识，代表当前属性是响应式的

## 依赖收集

### Dep()

简易版的 defineProperty()，用于一些比较轻的函数上

#### Q：Dep 如何维护全局唯一的监听器(Watcher 实例)？全局同时只存在一个监听器？

通过将 Watcher 实例变为 static 属性来实现唯一性（static 属性挂载在 class 上）

## 派发更新
