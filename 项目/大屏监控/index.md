## 跨组件层级传递属性或方法：provide/inject

provide（传给后代组件的方法） 和 inject（后代组件要注入的 provide）的绑定并不是可响应的 但如果传入一个可监听的对象 那其对象的属性还是可响应的由于组件内部的各种状态就是可响应的 可以直接将根组件本身注入 provide 后代组件就可以任意访问根组件中的所有状态 根组件就成为了全局状态的容器

### 对比 Vuex

Vuex 提供一种可预测的方式修改状态（即 Vuex 中的全局状态每次修改是可以追踪回溯的） 而 provide/reject 中变量的修改是无法控制的（即不知道哪个后代修改了这个状态）换句话说 provide/inject 破坏了单向数据流原则 如果有多个后代组件同时依赖于一个祖先组件提供的状态 只要有一个组件修改了状态 所有组件都会受到影响

### 弊端

1. 增加代码耦合度
2. 数据变化不可控 多人协作开发增加成本

### 适用场景

1. 多人协作时，做好作用域隔离（分模块时在模块根组件挂载各自需要 provide 的组件）
2. 尽可能使用一次性数据作为全局状态（如静态属性）
