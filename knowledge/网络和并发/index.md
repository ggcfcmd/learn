## 网络和并发

### HTTP/1.0/1.1/2.0 在并发请求上主要的区别是什么？

1. HTTP/1.0

每个 TCP 连接只能发送一个请求，当服务器响应后就会关闭这个连接，下一次请求需要再次建立 TCP 连接（短连接）

2. HTTP/1.1

默认采用持久连接，TCP，Connection：keep-alive

如果想单次请求之后结束连接 添加请求头 Connection：close

管道机制，在同一个 TCP 连接里，允许多个请求同时发送

HTTP/1.1 中所有的数据通信是有顺序的，会造成对头阻塞

3. HTTP/2.0

· 加入了双工模式，服务器也能同时处理多个请求，解决了对头阻塞的问题
· 多路复用，没有先后顺序的概念了
· 加了服务器推送功能

### HTTP/1.1 的长连接和 2.0 的多路复用有什么区别？

1.1：同一时间一个 TCP 链接只能处理一个请求，采用一问一答的形式，上一个请求响应后才能处理下一个请求

追问：听说 chrome 浏览器支持最大 6 个同域请求的并发，为什么

因为 chrome 支持最大 6 个 TCP 链接

2.0：同域名上的所有通信都在单个链接上完成，单个链接上可以并行交错的进行请求和响应

### 为什么 1.1 不能实现多路复用呢？

HTTP/2.0 是基于二进制帧的协议，HTTP/1.1 是基于文本分隔解析的协议

1.1 的报文结构里，服务器需要不断的读入字节，直到遇到换行符，处理的顺序是串行的

2.0 以帧为最小数据单位，每个帧都会有标识自己属于哪个流，多个帧组成一个流

多路复用：其实就是一个 TCP 里存在多条流

### 前端代码里有什么方式能控制最大并发量呢？

### 如果任务有优先级的概念，需要允许高优先级任务的插入呢？
