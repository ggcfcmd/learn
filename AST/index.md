# AST

## 背景

在计算机科学中，抽象语法树（Abstract Syntax Tree, AST），是源代码语法结构的一种抽象表示。它以树状的形式表现编程语言的语法结构，树上的每个节点都表示源代码中的一种结构。

## 应用场景

· 几乎所有高级语言（Js、Java、Python）的编译、机器码的生成
· 代码高亮、格式化、自动补全等：ESlint、Prettier、Vetur
· 代码压缩混淆：uglifyJS 等
· 代码转译：webpack、babel、TypeScript 等

## 转化流程

我们可以实现一个非常简单的词法分析工具，来感受一下词法分析的魅力，以及这中间我们需要处理的内容

整个解析过程主要分为以下两个步骤：

· 分词（词法分析）：词法是组成语言的单词，是语言中的最小单元，日常开发过程中写的 js（高级语言）代码，本质上就是一段按照一定格式组织的描述逻辑的文本，词法就是代码中一系列独立的单词。词法分析的过程就是读取代码，识别每一个单词及其种类，将他们按照预定的规则合并成一个个标识，也叫 token。在读取的同时还会移除空白符、注释等，最后产出一个 token 数组，即词法分析阶段会把字符串形式的代码转换为令牌（token）流

· 语法分析：语法是词法之间的组合方式。上面说到开发的源代码是按照一定格式组织的描述逻辑的文本，这个描述逻辑的格式就是指语法。语法分析就是将词法分析得到的令牌流，在上下文无关文法（一般指某种程序设计语言上的语法）的约束下，生成树形的中间态（就是 AST，便于描述逻辑结构），同时验证语法，如果语法有误的话抛出语法错误

最终流程：
parse 解析（词法分析、语法分析） -> transform 转换（高级语言转换为 AST） -> generator 生成（由 AST 生成目标语言的语法）
